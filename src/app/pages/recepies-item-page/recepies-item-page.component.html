<div class="px-8">
  <button
    class="w-[83px] h-[19px] text-[17px] text-[#404040] border-none bg-[#F0F7FF] hover:bg-[#E0E7F0] transition-colors cursor-pointer mb-4"
    (click)="goBack()"
  >
    Go back
  </button>
  @if (isLoading) {
  <div class="flex justify-center items-center p-20">
    <div class="animate-pulse">
      <p class="text-gray-500 text-lg">Loading recipe...</p>
    </div>
  </div>
  } @else if (recepItem) {
  <div class="flex flex-row justify-center items-center">
    <div
      class="border-4 border-white rounded-[20px] p-2.5 shadow-md overflow-hidden bg-white w-full max-w-5xl"
    >
      <h3 class="text-2xl font-bold mb-4 text-gray-800">
        {{ recepItem.name }}
      </h3>

      <div class="flex flex-row-reverse gap-4">
        <div class="shrink-0">
          <img
            class="w-[320px] h-[320px] border-[7px] border-white rounded-[25px] object-cover transition-opacity duration-300"
            [src]="recepItem.image"
            [alt]="recepItem.name"
            loading="eager"
            (load)="onImageLoad($event)"
            (error)="handleImageError($event)"
            style="opacity: 0"
          />
        </div>
        <div class="flex-1">
          <div class="mb-4">
            <h4 class="text-[#969696] mb-2 text-sm font-medium">
              Instructions
            </h4>
            <div class="flex flex-col gap-2">
              @for (item of recepItem.instructions; track $index) {
              <div
                class="flex items-start text-sm p-3 border-2 border-white rounded-md bg-gray-50 text-gray-700 w-full"
              >
                <p class="m-0">{{ $index + 1 }}. {{ item }}</p>
              </div>
              }
            </div>
          </div>

          <div class="mb-4">
            <h4 class="text-[#969696] mb-2 text-sm font-medium">Information</h4>
            <div class="flex justify-evenly items-center gap-2">
              <div
                class="w-[70px] h-[130px] border-2 border-white rounded-md flex flex-col justify-center items-center bg-white shadow-sm"
              >
                <h3 class="text-xl font-bold text-gray-800">
                  {{ recepItem.caloriesPerServing }}
                </h3>
                <p class="text-[#969696] text-xs mt-1">Calories</p>
              </div>
              <div
                class="w-[70px] h-[130px] border-2 border-white rounded-md flex flex-col justify-center items-center bg-white shadow-sm"
              >
                <h3 class="text-xl font-bold text-gray-800">
                  {{ recepItem.rating }}
                </h3>
                <p class="text-[#969696] text-xs mt-1">Rating</p>
              </div>
              <div
                class="w-[70px] h-[130px] border-2 border-white rounded-md flex flex-col justify-center items-center bg-white shadow-sm"
              >
                <h3 class="text-xl font-bold text-gray-800">
                  {{ recepItem.prepTimeMinutes }}
                </h3>
                <p class="text-[#969696] text-xs mt-1">Prep time minutes</p>
              </div>
              <div
                class="w-[70px] h-[130px] border-2 border-white rounded-md flex flex-col justify-center items-center bg-white shadow-sm"
              >
                <h3 class="text-xl font-bold text-gray-800">
                  {{ recepItem.cookTimeMinutes }}
                </h3>
                <p class="text-[#969696] text-xs mt-1">Cook time minutes</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  }
</div>
